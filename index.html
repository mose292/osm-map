<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DriverMapTest</title>
<meta name="viewport"content="width=device-width,initial-scale=1.0">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.20.1/mapbox-gl.css"rel="stylesheet">
<style>
body,html{margin:0;padding:0;height:100%;font-family:sans-serif}
#map{height:100vh;width:100%}
</style>
</head>
<body>
<div id="map"></div>
<script src="https://api.mapbox.com/mapbox-gl-js/v2.20.1/mapbox-gl.js"></script>
<script>
{mapboxgl.accessToken='eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImY0ZjVlYmQ0ZjBiNjQ2YzE4NDdkMGNmNDE4MDEyZWEwIn0='}
{let map=new mapboxgl.Map({container:'map',style:'mapbox://styles/mapbox/streets-v12',center:[51.3890,35.6892],zoom:13})}
{let driverMarker=new mapboxgl.Marker({color:'black'}).setLngLat([51.3890,35.6892]).addTo(map)}
{let route=[[51.3890,35.6892],[51.4000,35.7000]]}
{map.on('load',()=>{
map.addSource('route',{type:'geojson',data:{type:'Feature',geometry:{type:'LineString',coordinates:route}}})
map.addLayer({id:'route',type:'line',source:'route',layout:{'line-join':'round','line-cap':'round'},paint:{'line-color':'orange','line-width':4}})
let step=0
{let interval=setInterval(()=>
driverMarker.setLngLat(route[step])
step++
if(step>=route.length){clearInterval(interval);alert('Passenger reached destination')}
,500)}
})}
</script>
</body>
</html>
